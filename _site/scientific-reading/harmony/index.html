<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Reading &ldquo;Harmony: Towards Automated Self-Adaptive Consistency in Cloud Storage&rdquo; &#8211; Benjamin Bengfort</title>
  <meta name="description" content="">
  <meta name="keywords" content="harmony, distributed systems, papers, cloud, cassandra">
  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="http://cs.umd.edu/~bengfort/images/">
  <meta name="twitter:title" content="Reading &ldquo;Harmony: Towards Automated Self-Adaptive Consistency in Cloud Storage&rdquo;">
  <meta name="twitter:description" content="My graduate research at the University of Maryland">
  <meta name="twitter:creator" content="@bbengfort">

  <!-- Open Graph -->
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Reading &ldquo;Harmony: Towards Automated Self-Adaptive Consistency in Cloud Storage&rdquo;">
  <meta property="og:description" content="My graduate research at the University of Maryland">
  <meta property="og:url" content="http://cs.umd.edu/~bengfort/scientific-reading/harmony/">
  <meta property="og:site_name" content="Benjamin Bengfort">

  
  

  
  <link rel="canonical" href="http://cs.umd.edu/~bengfort/scientific-reading/harmony/">
  <link href="http://cs.umd.edu/~bengfort/feed.xml" type="application/atom+xml" rel="alternate" title="Benjamin Bengfort Feed">
  <link rel="author" href="https://plus.google.com/+BenjaminBengfort-DataNerd/?rel=author">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Webfonts -->
  <link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
  <!-- For all browsers -->
  <link rel="stylesheet" href="http://cs.umd.edu/~bengfort/assets/css/main.min.css">

  <meta http-equiv="cleartype" content="on">

  <!-- HTML5 Shiv and Media Query Support -->
  <!--[if lt IE 9]>
  	<script src="http://cs.umd.edu/~bengfort/assets/js/vendor/html5shiv.min.js"></script>
  	<script src="http://cs.umd.edu/~bengfort/assets/js/vendor/respond.min.js"></script>
  <![endif]-->

  <!-- Modernizr -->
  <script src="http://cs.umd.edu/~bengfort/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

  <!-- Icons -->
  <link rel="shortcut icon" href="http://cs.umd.edu/~bengfort/favicon.ico">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://cs.umd.edu/~bengfort">Benjamin Bengfort</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				<li><a href="http://cs.umd.edu/~bengfort/about/" >About</a></li>
		        
				<li><a href="http://cs.umd.edu/~bengfort/publications/" >Publications</a></li>
		        
				<li><a href="http://cs.umd.edu/~bengfort/posts/" >Posts</a></li>
		        
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    <img src="http://cs.umd.edu/~bengfort/images/bio-photo.jpg" class="bio-photo" alt="Benjamin Bengfort bio photo"></a>
<h3>Benjamin Bengfort</h3>
<p>Studying distributed storage systems and hoping for a PhD.</p>
<a href="https://twitter.com/bbengfort" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>

<a href="https://plus.google.com/+BenjaminBengfort-DataNerd/" class="author-social" target="_blank"><i class="icon-google-plus"></i> Google+</a>
<a href="https://linkedin.com/in/bbengfort" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>
<a href="https://instagram.com/bbengfort" class="author-social" target="_blank"><i class="icon-instagram"></i> Instagram</a>
<a href="https://github.com/bbengfort" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>



  </div>
  <article>
    <div class="headline-wrap">
      <h1>Reading &ldquo;Harmony: Towards Automated Self-Adaptive Consistency in Cloud Storage&rdquo;</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <blockquote>
  <p><small>H.-E. Chihoub, S. Ibrahim, G. Antoniu, and M. S. Perez, “Harmony: Towards automated self-adaptive consistency in cloud storage,” in 2012 IEEE International Conference on Cluster Computing, 2012, pp. 293–301.</small></p>
</blockquote>

<h2 id="abstract">Abstract</h2>

<p><small>In just a few years cloud computing has become a very popular paradigm and a business success story, with storage being one of the key features. To achieve high data availability, cloud storage services rely on replication. In this context, one major challenge is data consistency. In contrast to traditional approaches that are mostly based on strong consistency, many cloud storage services opt for weaker consistency models in order to achieve better availability and performance. This comes at the cost of a high probability of stale data being read, as the replicas involved in the reads may not always have the most recent write. In this paper, we propose a novel approach, named Harmony, which adaptively tunes the consistency level at run-time according to the application requirements. The key idea behind Harmony is an intelligent estimation model of stale reads, allowing to elastically scale up or down the number of replicas involved in read operations to maintain a low (possibly zero) tolerable fraction of stale reads. As a result, Harmony can meet the desired consistency of the applications while achieving good performance. We have implemented Harmony and performed extensive evaluations with the Cassandra cloud storage on Grid’5000 testbed and on Amazon EC2. The results show that Harmony can achieve good performance without exceeding the tolerated number of stale reads. For instance, in contrast to the static eventual consistency used in Cassandra, Harmony reduces the stale data being read by almost 80% while adding only minimal latency. Meanwhile, it improves the throughput of the system by 45% while maintaining the desired consistency requirements of the applications when compared to the strong consistency model in Cassandra.</small></p>

<h2 id="critical-reading">Critical Reading</h2>

<p>The Harmony paper is the second in the series of posts I’m writing that consider adaptive, hybrid, or continuous consistency models particularly with respect to the research I’m currently pursuing on Federated consistency.</p>

<p>Chihoub et al. start with the novel premise that while replication and eventual consistency provide high availability, the performance of such systems (Dynamo, Cassandra, BigTable, PNUTS, and HBase) is too costly in terms of inconsistency. They first cite a statistic that a single hour of down time for a credit card authorization system could cost between $2.2M-3.1M. However, under heavy reads and writes some systems may return up to 66.61% of stale reads. This is alarming because the likelihood is that two out of three reads are useless. They present therefore a consistency model that focuses on stale reads as the primary inconsistency metric and propose an adaptive mechanism called Harmony to address stale reads.</p>

<p>Their solution is to create an adaptive framework that sits on top of Cassandra. Applications can specify consistency in terms of the % of stale reads they are willing to tolerate: 0% stale reads means sequential consistency and 100% stale reads means letting the reigns go on eventual consistency. Most applications will choose some percent in the middle, however defining consistency this way allows applications to specify consistency along a continuum. Once specified, Harmony takes advantage of a Cassandra-specific feature that allows each access to specify the level of consistency. Normal Cassandra consistency settings are ONE or ALL, but you can also specify the number of nodes in the quorum required for an access.  Through real time monitoring of average read and write latencies, the system comes up with a likelihood of a stale read via a Poisson process model and uses that likelihood to compute the number of replicas required for the access such that the number of stale reads given the current likelihood is less than or equal to the application setting.</p>

<p>In evaluating their framework, Chihoub et al. showed that they could split the middle ground between “eventual” (Cassandra ONE consistency) and “strong” (Cassandra ALL consistency) by using Harmony-80% and Harmon-40% settings, thereby allowing consistency tuning. However, they also showed that as the number of threads increases, throughput decreases so that the eventual systems become as bad as the strong systems. Potentially this has to do with the implementation (Python 2.7) of adaptive consistency not being able to keep up, or perhaps it indicates a systematic problem in larger distributed systems. Overall, stale reads is an interesting approach to minimizing inconsistencies, and I think this paper did well to show adaptivity in real time. However, this model only works in Cassandra and Dynamo, and no consistency checking in terms of ordering was done.</p>

      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          <img src="http://cs.umd.edu/~bengfort/images/bio-photo.jpg" class="bio-photo" alt="Benjamin Bengfort bio photo"></a>
<h3>Benjamin Bengfort</h3>
<p>Studying distributed storage systems and hoping for a PhD.</p>
<a href="https://twitter.com/bbengfort" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>

<a href="https://plus.google.com/+BenjaminBengfort-DataNerd/" class="author-social" target="_blank"><i class="icon-google-plus"></i> Google+</a>
<a href="https://linkedin.com/in/bbengfort" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>
<a href="https://instagram.com/bbengfort" class="author-social" target="_blank"><i class="icon-instagram"></i> Instagram</a>
<a href="https://github.com/bbengfort" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>



        </div>
        <p class="byline"><strong>Reading &ldquo;Harmony: Towards Automated Self-Adaptive Consistency in Cloud Storage&rdquo;</strong> was published on <time datetime="2016-09-07T00:00:00-04:00">September 07, 2016</time> by <a href="http://cs.umd.edu/~bengfort/about" title="About Benjamin Bengfort">Benjamin Bengfort</a>.
        
        </p>
      </footer>
    </div><!-- /.article-wrap -->
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://cs.umd.edu/~bengfort/posts/">View all posts</a>)</small></h4>
    <ul>
    
      
      
      
      <li><a href="http://cs.umd.edu/~bengfort/scientific-reading/metastorage/" title="Reading &ldquo;Metastorage: A Federated Cloud Storage System to Manage Consistency-Latency Tradeoffs&rdquo;">Reading &ldquo;Metastorage: A Federated Cloud Storage System to Manage Consistency-Latency Tradeoffs&rdquo;</a></li>
      
    
      
      
      
    
      
      
      
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2016 Benjamin Bengfort. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://cs.umd.edu/~bengfort/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://cs.umd.edu/~bengfort/assets/js/scripts.min.js"></script>

<!-- Google Analytics Snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-8096804-7', 'umd.edu');
  ga('send', 'pageview');

</script>



</body>
</html>
